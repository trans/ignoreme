{"repository_name":"ignore","body":"# ignore\n\nA .gitignore compatible pattern parser for Crystal.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     ignore:\n       github: trans/ignore\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"ignore\"\n\n# Parse gitignore content\nmatcher = Ignore.parse(<<-GITIGNORE\n  build/\n  *.o\n  *.log\n  !important.log\nGITIGNORE\n)\n\nmatcher.ignores?(\"build/\")       # => true (directory)\nmatcher.ignores?(\"main.o\")       # => true\nmatcher.ignores?(\"debug.log\")    # => true\nmatcher.ignores?(\"important.log\") # => false (negated)\n\n# Quick one-liner\nIgnore.ignores?(\"foo.log\", \"*.log\")  # => true\n```\n\n### Directory Matching\n\nUse a trailing slash to check directories:\n\n```crystal\nmatcher = Ignore.parse(\"build/\")\nmatcher.ignores?(\"build/\")  # => true (directory)\nmatcher.ignores?(\"build\")   # => false (file)\n```\n\n### Building Patterns Incrementally\n\n```crystal\nmatcher = Ignore::Matcher.new\nmatcher.add(\"*.o\")\nmatcher.add(\"*.log\")\nmatcher.add(\"!important.log\")\nmatcher.ignores?(\"test.o\")  # => true\n\n# Inspect and manage patterns\nmatcher.patterns  # => [\"*.o\", \"*.log\", \"!important.log\"]\nmatcher.size      # => 3\nmatcher.clear     # remove all patterns\n\n# Enumerable support\nmatcher.each { |pattern| puts pattern }\nmatcher.select { |p| p.starts_with?(\"*\") }\n```\n\n### Loading from a Directory Tree\n\nLoad all `.gitignore` files from a project, with patterns scoped to their directories:\n\n```crystal\nmatcher = Ignore.root(\"/path/to/project\")\nmatcher.ignores?(\"src/debug.log\")\n```\n\nThis loads `.gitignore` files from the root and all subdirectories. Patterns from deeper directories take precedence, so a `!debug.log` in `src/.gitignore` will override `*.log` in the root `.gitignore`.\n\nYou can also load other ignore file formats:\n\n```crystal\n# Load .dockerignore files\nmatcher = Ignore.root(\"/path/to/project\", \".dockerignore\")\n\n# Load .npmignore files\nmatcher = Ignore.root(\"/path/to/project\", \".npmignore\")\n```\n\n### Loading Individual Files\n\n```crystal\nmatcher = Ignore::Matcher.new\nmatcher.add_file(\".gitignore\")\nmatcher.add_file(\"src/.gitignore\", base: \"src/\")\n```\n\n### Managing Ignore Files\n\nUse `Ignore::File` to read, modify, and save ignore files:\n\n```crystal\nfile = Ignore::File.new(\".gitignore\")\n\n# Inspect patterns\nfile.patterns   # => [\"*.log\", \"build/\"]\nfile.lines      # => [\"# Build artifacts\", \"*.log\", \"\", \"build/\"]\nfile.size       # => 2 (pattern count, excludes comments/blanks)\n\n# Modify patterns\nfile.add(\"*.tmp\")\nfile.remove(\"*.log\")\nfile.includes?(\"*.tmp\")  # => true\n\n# Check paths against patterns\nfile.ignores?(\"debug.tmp\")  # => true\n\n# Save changes (preserves comments and blank lines)\nfile.save\n\n# Reload from disk (discards unsaved changes)\nfile.reload\n\n# Enumerable support (iterates over patterns only)\nfile.each { |pattern| puts pattern }\n```\n\n### Filtered Directory Operations\n\nUse `Ignore::Dir` for filtered directory listings and glob results:\n\n```crystal\ndir = Ignore::Dir.new(\"/path/to/project\", \"*.log\", \"build/\")\n\ndir.glob(\"**/*.cr\")           # filtered glob\ndir.children                   # filtered directory children\ndir.entries                    # filtered entries (includes . and ..)\ndir.each_child { |entry| ... } # filtered iteration\n\n# Include hidden files in glob\ndir.glob(\"**/*\", match: :dot_files)\n\n# Load patterns from .gitignore files automatically\ndir = Ignore::Dir.new(\"/path/to/project\", root: \".gitignore\")\n\n# Load from a single ignore file\ndir = Ignore::Dir.new(\"/path/to/project\", file: \".gitignore\")\n```\n\nDirectory patterns like `build/` will filter out the directory and all its contents.\n\n#### Inverse Filtering\n\nGet only the ignored files (useful for cleanup tools):\n\n```crystal\ndir = Ignore::Dir.new(\"/path/to/project\", \"*.log\", \"build/\")\n\ndir.ignored_glob(\"**/*\")       # only ignored paths\ndir.ignored_children           # only ignored children\ndir.ignored_entries            # only ignored entries\ndir.each_ignored_child { |e| } # iterate ignored children\n```\n\n#### Enumerable Support\n\n`Ignore::Dir` includes `Enumerable`, iterating over non-ignored children:\n\n```crystal\ndir = Ignore::Dir.new(\"/path/to/project\", \"*.log\")\ndir.select { |entry| entry.ends_with?(\".cr\") }\ndir.map { |entry| entry.upcase }\n```\n\n#### Dir Monkey Patch (Optional)\n\nFor convenience, you can optionally load a monkey patch that adds `ignore` methods to `Dir`:\n\n```crystal\nrequire \"ignore/core_ext\"\n\n# Class method (uses current directory)\nDir.ignore(\"*.log\", \"build/\").glob(\"**/*\")\nDir.ignore(root: \".gitignore\").glob(\"**/*\")\n\n# Instance method\nDir.new(\"/path/to/project\").ignore(\"*.log\").glob(\"**/*\")\nDir.new(\"/path/to/project\").ignore(root: \".gitignore\").children\n```\n\n## Supported Patterns\n\n| Pattern | Description |\n|---------|-------------|\n| `*.txt` | Wildcard, matches any `.txt` file |\n| `?` | Single character wildcard |\n| `[abc]` | Character class |\n| `[a-z]` | Character range |\n| `[!abc]` | Negated character class |\n| `build/` | Directory only (trailing slash) |\n| `/root` | Anchored to root (leading slash) |\n| `foo/bar` | Anchored (contains slash) |\n| `!pattern` | Negation (un-ignore) |\n| `**/foo` | Match in all directories |\n| `foo/**` | Match everything inside |\n| `a/**/b` | Zero or more directories between |\n| `\\#` `\\!` | Escaped special characters |\n\n## License\n\nMIT\n","program":{"html_id":"ignore/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"ignore","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"ignore/Dir","path":"Dir.html","kind":"class","full_name":"Dir","name":"Dir","abstract":false,"superclass":{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ignore/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ignore/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/ignore/core_ext.cr","line_number":4,"url":null}],"repository_name":"ignore","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ignore/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"doc":"Monkey patch Dir to add ignore methods","summary":"<p>Monkey patch Dir to add ignore methods</p>","class_methods":[{"html_id":"ignore(*patterns:String):Ignore::Dir-class-method","name":"ignore","doc":"Class method: patterns with current directory","summary":"<p>Class method: patterns with current directory</p>","abstract":false,"args":[{"name":"patterns","external_name":"patterns","restriction":"String"}],"args_string":"(*patterns : String) : Ignore::Dir","args_html":"(*patterns : String) : <a href=\"Ignore/Dir.html\">Ignore::Dir</a>","location":{"filename":"src/ignore/core_ext.cr","line_number":21,"url":null},"def":{"name":"ignore","args":[{"name":"patterns","external_name":"patterns","restriction":"String"}],"splat_index":0,"return_type":"Ignore::Dir","visibility":"Public","body":"Ignore::Dir.new(Dir.current, *patterns)"},"external_var":false},{"html_id":"ignore(*,root:String):Ignore::Dir-class-method","name":"ignore","doc":"Class method: load from ignore files in current directory tree","summary":"<p>Class method: load from ignore files in current directory tree</p>","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"root","external_name":"root","restriction":"String"}],"args_string":"(*, root : String) : Ignore::Dir","args_html":"(*, root : String) : <a href=\"Ignore/Dir.html\">Ignore::Dir</a>","location":{"filename":"src/ignore/core_ext.cr","line_number":26,"url":null},"def":{"name":"ignore","args":[{"name":"","external_name":"","restriction":""},{"name":"root","external_name":"root","restriction":"String"}],"splat_index":0,"return_type":"Ignore::Dir","visibility":"Public","body":"Ignore::Dir.new(Dir.current, root: root)"},"external_var":false},{"html_id":"ignore(*,file:String,base:String=\"\"):Ignore::Dir-class-method","name":"ignore","doc":"Class method: load from single file, current directory","summary":"<p>Class method: load from single file, current directory</p>","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"file","external_name":"file","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"args_string":"(*, file : String, base : String = \"\") : Ignore::Dir","args_html":"(*, file : String, base : String = <span class=\"s\">&quot;&quot;</span>) : <a href=\"Ignore/Dir.html\">Ignore::Dir</a>","location":{"filename":"src/ignore/core_ext.cr","line_number":31,"url":null},"def":{"name":"ignore","args":[{"name":"","external_name":"","restriction":""},{"name":"file","external_name":"file","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"splat_index":0,"return_type":"Ignore::Dir","visibility":"Public","body":"Ignore::Dir.new(Dir.current, file: file, base: base)"},"external_var":false}],"instance_methods":[{"html_id":"ignore(*patterns:String):Ignore::Dir-instance-method","name":"ignore","doc":"Instance method: returns an Ignore::Dir based on this Dir's path","summary":"<p>Instance method: returns an Ignore::Dir based on this Dir's path</p>","abstract":false,"args":[{"name":"patterns","external_name":"patterns","restriction":"String"}],"args_string":"(*patterns : String) : Ignore::Dir","args_html":"(*patterns : String) : <a href=\"Ignore/Dir.html\">Ignore::Dir</a>","location":{"filename":"src/ignore/core_ext.cr","line_number":6,"url":null},"def":{"name":"ignore","args":[{"name":"patterns","external_name":"patterns","restriction":"String"}],"splat_index":0,"return_type":"Ignore::Dir","visibility":"Public","body":"Ignore::Dir.new(self.path, *patterns)"},"external_var":false},{"html_id":"ignore(*,root:String):Ignore::Dir-instance-method","name":"ignore","doc":"Instance method: load patterns from ignore files in this directory tree","summary":"<p>Instance method: load patterns from ignore files in this directory tree</p>","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"root","external_name":"root","restriction":"String"}],"args_string":"(*, root : String) : Ignore::Dir","args_html":"(*, root : String) : <a href=\"Ignore/Dir.html\">Ignore::Dir</a>","location":{"filename":"src/ignore/core_ext.cr","line_number":11,"url":null},"def":{"name":"ignore","args":[{"name":"","external_name":"","restriction":""},{"name":"root","external_name":"root","restriction":"String"}],"splat_index":0,"return_type":"Ignore::Dir","visibility":"Public","body":"Ignore::Dir.new(self.path, root: root)"},"external_var":false},{"html_id":"ignore(*,file:String,base:String=\"\"):Ignore::Dir-instance-method","name":"ignore","doc":"Instance method: load patterns from a single file","summary":"<p>Instance method: load patterns from a single file</p>","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"file","external_name":"file","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"args_string":"(*, file : String, base : String = \"\") : Ignore::Dir","args_html":"(*, file : String, base : String = <span class=\"s\">&quot;&quot;</span>) : <a href=\"Ignore/Dir.html\">Ignore::Dir</a>","location":{"filename":"src/ignore/core_ext.cr","line_number":16,"url":null},"def":{"name":"ignore","args":[{"name":"","external_name":"","restriction":""},{"name":"file","external_name":"file","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"splat_index":0,"return_type":"Ignore::Dir","visibility":"Public","body":"Ignore::Dir.new(self.path, file: file, base: base)"},"external_var":false}]},{"html_id":"ignore/Ignore","path":"Ignore.html","kind":"module","full_name":"Ignore","name":"Ignore","abstract":false,"locations":[{"filename":"src/ignore.cr","line_number":5,"url":null},{"filename":"src/ignore/dir.cr","line_number":1,"url":null},{"filename":"src/ignore/file.cr","line_number":1,"url":null},{"filename":"src/ignore/pattern.cr","line_number":1,"url":null}],"repository_name":"ignore","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.4.0\""}],"class_methods":[{"html_id":"from_directory(root:String,ignore_file:String=\".gitignore\"):Matcher-class-method","name":"from_directory","doc":"Load all ignore files from a directory tree\nPatterns from deeper directories take precedence (loaded after shallower ones)","summary":"<p>Load all ignore files from a directory tree Patterns from deeper directories take precedence (loaded after shallower ones)</p>","abstract":false,"args":[{"name":"root","external_name":"root","restriction":"String"},{"name":"ignore_file","default_value":"\".gitignore\"","external_name":"ignore_file","restriction":"String"}],"args_string":"(root : String, ignore_file : String = \".gitignore\") : Matcher","args_html":"(root : String, ignore_file : String = <span class=\"s\">&quot;.gitignore&quot;</span>) : <a href=\"Ignore/Matcher.html\">Matcher</a>","location":{"filename":"src/ignore.cr","line_number":98,"url":null},"def":{"name":"from_directory","args":[{"name":"root","external_name":"root","restriction":"String"},{"name":"ignore_file","default_value":"\".gitignore\"","external_name":"ignore_file","restriction":"String"}],"return_type":"Matcher","visibility":"Public","body":"matcher = Matcher.new\nroot = root.chomp(\"/\")\n\n\nfound_files = [] of Tuple(String, String)\n\n::Dir.glob(::File.join(root, \"**/#{ignore_file}\"), match: :dot_files) do |file|\n  dir = ::File.dirname(file)\n  base = dir == root ? \"\" : dir[(root.size + 1)..]\n  found_files << {file, base}\nend\n\n\nfound_files.sort_by! do |_, base| base.count(\"/\") end\n\nfound_files.each do |file, base|\n  matcher.add_file(file, base)\nend\n\nmatcher\n"},"external_var":false},{"html_id":"ignores?(path:String,patterns:String):Bool-class-method","name":"ignores?","doc":"Quick check if a path matches patterns","summary":"<p>Quick check if a path matches patterns</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"patterns","external_name":"patterns","restriction":"String"}],"args_string":"(path : String, patterns : String) : Bool","args_html":"(path : String, patterns : String) : Bool","location":{"filename":"src/ignore.cr","line_number":87,"url":null},"def":{"name":"ignores?","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"patterns","external_name":"patterns","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"(parse(patterns)).ignores?(path)"},"external_var":false},{"html_id":"parse(content:String):Matcher-class-method","name":"parse","doc":"Parse gitignore content and return a Matcher","summary":"<p>Parse gitignore content and return a Matcher</p>","abstract":false,"args":[{"name":"content","external_name":"content","restriction":"String"}],"args_string":"(content : String) : Matcher","args_html":"(content : String) : <a href=\"Ignore/Matcher.html\">Matcher</a>","location":{"filename":"src/ignore.cr","line_number":82,"url":null},"def":{"name":"parse","args":[{"name":"content","external_name":"content","restriction":"String"}],"return_type":"Matcher","visibility":"Public","body":"Matcher.new.parse(content)"},"external_var":false},{"html_id":"root(root:String,ignore_file:String=\".gitignore\"):Matcher-class-method","name":"root","doc":"Load all ignore files from a directory tree\nPatterns from deeper directories take precedence (loaded after shallower ones)","summary":"<p>Load all ignore files from a directory tree Patterns from deeper directories take precedence (loaded after shallower ones)</p>","abstract":false,"args":[{"name":"root","external_name":"root","restriction":"String"},{"name":"ignore_file","default_value":"\".gitignore\"","external_name":"ignore_file","restriction":"String"}],"args_string":"(root : String, ignore_file : String = \".gitignore\") : Matcher","args_html":"(root : String, ignore_file : String = <span class=\"s\">&quot;.gitignore&quot;</span>) : <a href=\"Ignore/Matcher.html\">Matcher</a>","location":{"filename":"src/ignore.cr","line_number":93,"url":null},"def":{"name":"root","args":[{"name":"root","external_name":"root","restriction":"String"},{"name":"ignore_file","default_value":"\".gitignore\"","external_name":"ignore_file","restriction":"String"}],"return_type":"Matcher","visibility":"Public","body":"from_directory(root, ignore_file)"},"external_var":false}],"types":[{"html_id":"ignore/Ignore/Dir","path":"Ignore/Dir.html","kind":"class","full_name":"Ignore::Dir","name":"Dir","abstract":false,"superclass":{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ignore/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/ignore/dir.cr","line_number":3,"url":null}],"repository_name":"ignore","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"ignore/Ignore","kind":"module","full_name":"Ignore","name":"Ignore"},"doc":"A directory wrapper that filters results using gitignore patterns","summary":"<p>A directory wrapper that filters results using gitignore patterns</p>","constructors":[{"html_id":"new(path:String,patterns:Enumerable(String))-class-method","name":"new","doc":"Initialize with path and enumerable of patterns","summary":"<p>Initialize with path and enumerable of patterns</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"patterns","external_name":"patterns","restriction":"Enumerable(String)"}],"args_string":"(path : String, patterns : Enumerable(String))","args_html":"(path : String, patterns : Enumerable(String))","location":{"filename":"src/ignore/dir.cr","line_number":16,"url":null},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"patterns","external_name":"patterns","restriction":"Enumerable(String)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(path, patterns)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(path:String,matcher:Matcher)-class-method","name":"new","doc":"Initialize with path and existing matcher","summary":"<p>Initialize with path and existing matcher</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"matcher","external_name":"matcher","restriction":"Matcher"}],"args_string":"(path : String, matcher : Matcher)","args_html":"(path : String, matcher : <a href=\"../Ignore/Matcher.html\">Matcher</a>)","location":{"filename":"src/ignore/dir.cr","line_number":22,"url":null},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"matcher","external_name":"matcher","restriction":"Matcher"}],"visibility":"Public","body":"_ = allocate\n_.initialize(path, matcher)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(path:String,*patterns:String)-class-method","name":"new","doc":"Initialize with path and pattern strings","summary":"<p>Initialize with path and pattern strings</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"patterns","external_name":"patterns","restriction":"String"}],"args_string":"(path : String, *patterns : String)","args_html":"(path : String, *patterns : String)","location":{"filename":"src/ignore/dir.cr","line_number":10,"url":null},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"patterns","external_name":"patterns","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"_ = allocate\n_.initialize(path, *patterns)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(path:String,*,root:String)-class-method","name":"new","doc":"Initialize with path, loading patterns from ignore files in tree","summary":"<p>Initialize with path, loading patterns from ignore files in tree</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"root","external_name":"root","restriction":"String"}],"args_string":"(path : String, *, root : String)","args_html":"(path : String, *, root : String)","location":{"filename":"src/ignore/dir.cr","line_number":26,"url":null},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"root","external_name":"root","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"_ = allocate\n_.initialize(path, root: root)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(path:String,*,file:String,base:String=\"\")-class-method","name":"new","doc":"Initialize with path, loading patterns from a single file","summary":"<p>Initialize with path, loading patterns from a single file</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"file","external_name":"file","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"args_string":"(path : String, *, file : String, base : String = \"\")","args_html":"(path : String, *, file : String, base : String = <span class=\"s\">&quot;&quot;</span>)","location":{"filename":"src/ignore/dir.cr","line_number":31,"url":null},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"file","external_name":"file","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"_ = allocate\n_.initialize(path, file: file, base: base)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"add(pattern:String):self-instance-method","name":"add","doc":"Add additional patterns","summary":"<p>Add additional patterns</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"args_string":"(pattern : String) : self","args_html":"(pattern : String) : <span class=\"k\">self</span>","location":{"filename":"src/ignore/dir.cr","line_number":40,"url":null},"def":{"name":"add","args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"return_type":"self","visibility":"Public","body":"@matcher.add(pattern)\nself\n"},"external_var":false},{"html_id":"children:Array(String)-instance-method","name":"children","doc":"Returns children of base directory, filtered","summary":"<p>Returns children of base directory, filtered</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":76,"url":null},"def":{"name":"children","return_type":"Array(String)","visibility":"Public","body":"(::Dir.children(@path)).reject do |entry| ignores_entry?(entry) end"},"external_var":false},{"html_id":"each(&:String->):Nil-instance-method","name":"each","doc":"Iterate over children, filtered (Enumerable support)","summary":"<p>Iterate over children, filtered (Enumerable support)</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":102,"url":null},"def":{"name":"each","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(String ->)"},"return_type":"Nil","visibility":"Public","body":"each_child do |entry| yield entry end"},"external_var":false},{"html_id":"each_child(&:String->):Nil-instance-method","name":"each_child","doc":"Iterate over children, filtered","summary":"<p>Iterate over children, filtered</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":107,"url":null},"def":{"name":"each_child","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(String ->)"},"return_type":"Nil","visibility":"Public","body":"::Dir.each_child(@path) do |entry|\n  if ignores_entry?(entry)\n  else\n    yield entry\n  end\nend"},"external_var":false},{"html_id":"each_ignored_child(&:String->):Nil-instance-method","name":"each_ignored_child","doc":"Iterate over only ignored children","summary":"<p>Iterate over only ignored children</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":114,"url":null},"def":{"name":"each_ignored_child","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(String ->)"},"return_type":"Nil","visibility":"Public","body":"::Dir.each_child(@path) do |entry|\n  if ignores_entry?(entry)\n    yield entry\n  end\nend"},"external_var":false},{"html_id":"entries:Array(String)-instance-method","name":"entries","doc":"Returns entries of base directory (includes . and ..), filtered","summary":"<p>Returns entries of base directory (includes .</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":86,"url":null},"def":{"name":"entries","return_type":"Array(String)","visibility":"Public","body":"(::Dir.entries(@path)).reject do |entry|\n  if (entry == \".\") || (entry == \"..\")\n    next false\n  end\n  ignores_entry?(entry)\nend"},"external_var":false},{"html_id":"glob(pattern:String,*,match:::File::MatchOptions=::File::MatchOptions::None):Array(String)-instance-method","name":"glob","doc":"Glob with filtering, returns array","summary":"<p>Glob with filtering, returns array</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"args_string":"(pattern : String, *, match : ::File::MatchOptions = ::File::MatchOptions::None) : Array(String)","args_html":"(pattern : String, *, match : ::File::MatchOptions = <span class=\"t\">::</span><span class=\"t\">File</span><span class=\"t\">::</span><span class=\"t\">MatchOptions</span><span class=\"t\">::</span><span class=\"t\">None</span>) : Array(String)","location":{"filename":"src/ignore/dir.cr","line_number":46,"url":null},"def":{"name":"glob","args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"splat_index":1,"return_type":"Array(String)","visibility":"Public","body":"results = [] of String\nglob(pattern, match: match) do |path| results << path end\nresults\n"},"external_var":false},{"html_id":"glob(pattern:String,*,match:::File::MatchOptions=::File::MatchOptions::None,&block:String->):Nil-instance-method","name":"glob","doc":"Glob with filtering, yields each match","summary":"<p>Glob with filtering, yields each match</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"args_string":"(pattern : String, *, match : ::File::MatchOptions = ::File::MatchOptions::None, &block : String -> ) : Nil","args_html":"(pattern : String, *, match : ::File::MatchOptions = <span class=\"t\">::</span><span class=\"t\">File</span><span class=\"t\">::</span><span class=\"t\">MatchOptions</span><span class=\"t\">::</span><span class=\"t\">None</span>, &block : String -> ) : Nil","location":{"filename":"src/ignore/dir.cr","line_number":53,"url":null},"def":{"name":"glob","args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"splat_index":1,"yields":1,"block_arity":1,"block_arg":{"name":"block","external_name":"block","restriction":"(String ->)"},"return_type":"Nil","visibility":"Public","body":"full_pattern = ::File.join(@path, pattern)\n::Dir.glob(full_pattern, match: match) do |path|\n  if ignores_path?(path)\n  else\n    yield path\n  end\nend\n"},"external_var":false},{"html_id":"ignored_children:Array(String)-instance-method","name":"ignored_children","doc":"Returns only ignored children of base directory","summary":"<p>Returns only ignored children of base directory</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":81,"url":null},"def":{"name":"ignored_children","return_type":"Array(String)","visibility":"Public","body":"(::Dir.children(@path)).select do |entry| ignores_entry?(entry) end"},"external_var":false},{"html_id":"ignored_entries:Array(String)-instance-method","name":"ignored_entries","doc":"Returns only ignored entries of base directory (excludes . and ..)","summary":"<p>Returns only ignored entries of base directory (excludes .</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":94,"url":null},"def":{"name":"ignored_entries","return_type":"Array(String)","visibility":"Public","body":"(::Dir.entries(@path)).select do |entry|\n  if (entry == \".\") || (entry == \"..\")\n    next false\n  end\n  ignores_entry?(entry)\nend"},"external_var":false},{"html_id":"ignored_glob(pattern:String,*,match:::File::MatchOptions=::File::MatchOptions::None):Array(String)-instance-method","name":"ignored_glob","doc":"Glob returning only ignored paths","summary":"<p>Glob returning only ignored paths</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"args_string":"(pattern : String, *, match : ::File::MatchOptions = ::File::MatchOptions::None) : Array(String)","args_html":"(pattern : String, *, match : ::File::MatchOptions = <span class=\"t\">::</span><span class=\"t\">File</span><span class=\"t\">::</span><span class=\"t\">MatchOptions</span><span class=\"t\">::</span><span class=\"t\">None</span>) : Array(String)","location":{"filename":"src/ignore/dir.cr","line_number":61,"url":null},"def":{"name":"ignored_glob","args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"splat_index":1,"return_type":"Array(String)","visibility":"Public","body":"results = [] of String\nignored_glob(pattern, match: match) do |path| results << path end\nresults\n"},"external_var":false},{"html_id":"ignored_glob(pattern:String,*,match:::File::MatchOptions=::File::MatchOptions::None,&block:String->):Nil-instance-method","name":"ignored_glob","doc":"Glob returning only ignored paths, yields each match","summary":"<p>Glob returning only ignored paths, yields each match</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"args_string":"(pattern : String, *, match : ::File::MatchOptions = ::File::MatchOptions::None, &block : String -> ) : Nil","args_html":"(pattern : String, *, match : ::File::MatchOptions = <span class=\"t\">::</span><span class=\"t\">File</span><span class=\"t\">::</span><span class=\"t\">MatchOptions</span><span class=\"t\">::</span><span class=\"t\">None</span>, &block : String -> ) : Nil","location":{"filename":"src/ignore/dir.cr","line_number":68,"url":null},"def":{"name":"ignored_glob","args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"match","default_value":"::File::MatchOptions::None","external_name":"match","restriction":"::File::MatchOptions"}],"splat_index":1,"yields":1,"block_arity":1,"block_arg":{"name":"block","external_name":"block","restriction":"(String ->)"},"return_type":"Nil","visibility":"Public","body":"full_pattern = ::File.join(@path, pattern)\n::Dir.glob(full_pattern, match: match) do |path|\n  if ignores_path?(path)\n    yield path\n  end\nend\n"},"external_var":false},{"html_id":"ignores?(path:String):Bool-instance-method","name":"ignores?","doc":"Check if a path should be ignored","summary":"<p>Check if a path should be ignored</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"}],"args_string":"(path : String) : Bool","args_html":"(path : String) : Bool","location":{"filename":"src/ignore/dir.cr","line_number":121,"url":null},"def":{"name":"ignores?","args":[{"name":"path","external_name":"path","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"@matcher.ignores?(path)"},"external_var":false},{"html_id":"path:String-instance-method","name":"path","doc":"The base path","summary":"<p>The base path</p>","abstract":false,"location":{"filename":"src/ignore/dir.cr","line_number":37,"url":null},"def":{"name":"path","return_type":"String","visibility":"Public","body":"@path"},"external_var":false}]},{"html_id":"ignore/Ignore/File","path":"Ignore/File.html","kind":"class","full_name":"Ignore::File","name":"File","abstract":false,"superclass":{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ignore/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/ignore/file.cr","line_number":3,"url":null}],"repository_name":"ignore","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"ignore/Ignore","kind":"module","full_name":"Ignore","name":"Ignore"},"doc":"Represents an ignore file (like .gitignore) that can be read, modified, and saved","summary":"<p>Represents an ignore file (like .gitignore) that can be read, modified, and saved</p>","constructors":[{"html_id":"new(path:String,create:Bool=true)-class-method","name":"new","doc":"Initialize from a file path\nBy default, creates empty if file doesn't exist\nSet create: false to raise if file doesn't exist","summary":"<p>Initialize from a file path By default, creates empty if file doesn't exist Set create: false to raise if file doesn't exist</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"create","default_value":"true","external_name":"create","restriction":"Bool"}],"args_string":"(path : String, create : Bool = true)","args_html":"(path : String, create : Bool = <span class=\"n\">true</span>)","location":{"filename":"src/ignore/file.cr","line_number":13,"url":null},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"create","default_value":"true","external_name":"create","restriction":"Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(path, create)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"add(pattern:String):self-instance-method","name":"add","doc":"Add a pattern (appends to end)","summary":"<p>Add a pattern (appends to end)</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"args_string":"(pattern : String) : self","args_html":"(pattern : String) : <span class=\"k\">self</span>","location":{"filename":"src/ignore/file.cr","line_number":53,"url":null},"def":{"name":"add","args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"return_type":"self","visibility":"Public","body":"@lines << pattern\n@matcher = nil\nself\n"},"external_var":false},{"html_id":"clear:self-instance-method","name":"clear","doc":"Remove all lines (patterns, comments, and blanks)","summary":"<p>Remove all lines (patterns, comments, and blanks)</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":74,"url":null},"def":{"name":"clear","return_type":"self","visibility":"Public","body":"@lines.clear\n@matcher = nil\nself\n"},"external_var":false},{"html_id":"each(&:String->):Nil-instance-method","name":"each","doc":"Iterate over pattern strings (Enumerable support)","summary":"<p>Iterate over pattern strings (Enumerable support)</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":48,"url":null},"def":{"name":"each","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(String ->)"},"return_type":"Nil","visibility":"Public","body":"@lines.each do |line| if pattern?(line)\n  yield line\nend end"},"external_var":false},{"html_id":"empty?:Bool-instance-method","name":"empty?","doc":"Check if there are no patterns","summary":"<p>Check if there are no patterns</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":43,"url":null},"def":{"name":"empty?","return_type":"Bool","visibility":"Public","body":"!@lines.any? do |line| pattern?(line) end"},"external_var":false},{"html_id":"ignores?(path:String):Bool-instance-method","name":"ignores?","doc":"Check if a path should be ignored","summary":"<p>Check if a path should be ignored</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"}],"args_string":"(path : String) : Bool","args_html":"(path : String) : Bool","location":{"filename":"src/ignore/file.cr","line_number":92,"url":null},"def":{"name":"ignores?","args":[{"name":"path","external_name":"path","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"matcher.ignores?(path)"},"external_var":false},{"html_id":"includes?(pattern:String):Bool-instance-method","name":"includes?","doc":"Check if a pattern exists","summary":"<p>Check if a pattern exists</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"args_string":"(pattern : String) : Bool","args_html":"(pattern : String) : Bool","location":{"filename":"src/ignore/file.cr","line_number":69,"url":null},"def":{"name":"includes?","args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"@lines.includes?(pattern)"},"external_var":false},{"html_id":"lines:Array(String)-instance-method","name":"lines","doc":"All lines including comments and blank lines","summary":"<p>All lines including comments and blank lines</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":28,"url":null},"def":{"name":"lines","return_type":"Array(String)","visibility":"Public","body":"@lines.dup"},"external_var":false},{"html_id":"path:String-instance-method","name":"path","doc":"The file path","summary":"<p>The file path</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":25,"url":null},"def":{"name":"path","return_type":"String","visibility":"Public","body":"@path"},"external_var":false},{"html_id":"patterns:Array(String)-instance-method","name":"patterns","doc":"Only pattern lines (excludes comments and blank lines)","summary":"<p>Only pattern lines (excludes comments and blank lines)</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":33,"url":null},"def":{"name":"patterns","return_type":"Array(String)","visibility":"Public","body":"@lines.select do |line| pattern?(line) end"},"external_var":false},{"html_id":"reload:self-instance-method","name":"reload","doc":"Reload from disk (discards unsaved changes)","summary":"<p>Reload from disk (discards unsaved changes)</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":81,"url":null},"def":{"name":"reload","return_type":"self","visibility":"Public","body":"if ::File.exists?(@path)\n  @lines = ::File.read_lines(@path)\nelse\n  @lines = [] of String\nend\n@matcher = nil\nself\n"},"external_var":false},{"html_id":"remove(pattern:String):self-instance-method","name":"remove","doc":"Remove a pattern (first occurrence)","summary":"<p>Remove a pattern (first occurrence)</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"args_string":"(pattern : String) : self","args_html":"(pattern : String) : <span class=\"k\">self</span>","location":{"filename":"src/ignore/file.cr","line_number":60,"url":null},"def":{"name":"remove","args":[{"name":"pattern","external_name":"pattern","restriction":"String"}],"return_type":"self","visibility":"Public","body":"if idx = @lines.index(pattern)\n  @lines.delete_at(idx)\n  @matcher = nil\nend\nself\n"},"external_var":false},{"html_id":"save(path:String=@path):self-instance-method","name":"save","doc":"Save to file (original path or specified path)","summary":"<p>Save to file (original path or specified path)</p>","abstract":false,"args":[{"name":"path","default_value":"@path","external_name":"path","restriction":"String"}],"args_string":"(path : String = @path) : self","args_html":"(path : String = @path) : <span class=\"k\">self</span>","location":{"filename":"src/ignore/file.cr","line_number":97,"url":null},"def":{"name":"save","args":[{"name":"path","default_value":"@path","external_name":"path","restriction":"String"}],"return_type":"self","visibility":"Public","body":"::File.write(path, (@lines.join(\"\\n\")) + (@lines.empty? ? \"\" : \"\\n\"))\nself\n"},"external_var":false},{"html_id":"size:Int32-instance-method","name":"size","doc":"Number of patterns (excludes comments and blank lines)","summary":"<p>Number of patterns (excludes comments and blank lines)</p>","abstract":false,"location":{"filename":"src/ignore/file.cr","line_number":38,"url":null},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@lines.count do |line| pattern?(line) end"},"external_var":false}]},{"html_id":"ignore/Ignore/Matcher","path":"Ignore/Matcher.html","kind":"class","full_name":"Ignore::Matcher","name":"Matcher","abstract":false,"superclass":{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ignore/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/ignore.cr","line_number":9,"url":null}],"repository_name":"ignore","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ignore/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"ignore/Ignore","kind":"module","full_name":"Ignore","name":"Ignore"},"doc":"A collection of gitignore patterns that can match paths","summary":"<p>A collection of gitignore patterns that can match paths</p>","constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/ignore.cr","line_number":14,"url":null},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"add(pattern:String,base:String=\"\"):self-instance-method","name":"add","doc":"Add a single pattern string","summary":"<p>Add a single pattern string</p>","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"args_string":"(pattern : String, base : String = \"\") : self","args_html":"(pattern : String, base : String = <span class=\"s\">&quot;&quot;</span>) : <span class=\"k\">self</span>","location":{"filename":"src/ignore.cr","line_number":19,"url":null},"def":{"name":"add","args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"return_type":"self","visibility":"Public","body":"stripped = pattern.strip\nif stripped.empty? || (stripped.starts_with?(\"#\"))\n  return self\nend\n@patterns << (Pattern.new(stripped, base))\nself\n"},"external_var":false},{"html_id":"add_file(path:String,base:String=\"\"):self-instance-method","name":"add_file","doc":"Load patterns from a .gitignore file","summary":"<p>Load patterns from a .gitignore file</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"args_string":"(path : String, base : String = \"\") : self","args_html":"(path : String, base : String = <span class=\"s\">&quot;&quot;</span>) : <span class=\"k\">self</span>","location":{"filename":"src/ignore.cr","line_number":35,"url":null},"def":{"name":"add_file","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"return_type":"self","visibility":"Public","body":"if ::File.exists?(path)\nelse\n  return self\nend\nparse(::File.read(path), base)\n"},"external_var":false},{"html_id":"clear:self-instance-method","name":"clear","doc":"Remove all patterns","summary":"<p>Remove all patterns</p>","abstract":false,"location":{"filename":"src/ignore.cr","line_number":75,"url":null},"def":{"name":"clear","return_type":"self","visibility":"Public","body":"@patterns.clear\nself\n"},"external_var":false},{"html_id":"each(&:String->):Nil-instance-method","name":"each","doc":"Iterate over pattern strings","summary":"<p>Iterate over pattern strings</p>","abstract":false,"location":{"filename":"src/ignore.cr","line_number":60,"url":null},"def":{"name":"each","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(String ->)"},"return_type":"Nil","visibility":"Public","body":"@patterns.each do |p| yield p.pattern end"},"external_var":false},{"html_id":"empty?:Bool-instance-method","name":"empty?","doc":"Check if matcher has any patterns","summary":"<p>Check if matcher has any patterns</p>","abstract":false,"location":{"filename":"src/ignore.cr","line_number":70,"url":null},"def":{"name":"empty?","return_type":"Bool","visibility":"Public","body":"@patterns.empty?"},"external_var":false},{"html_id":"ignores?(path:String):Bool-instance-method","name":"ignores?","doc":"Check if a path should be ignored\nUse trailing / for directories: ignores?(\"build/\")","summary":"<p>Check if a path should be ignored Use trailing / for directories: ignores?(&quot;build/&quot;)</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"}],"args_string":"(path : String) : Bool","args_html":"(path : String) : Bool","location":{"filename":"src/ignore.cr","line_number":42,"url":null},"def":{"name":"ignores?","args":[{"name":"path","external_name":"path","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"result = false\n\n@patterns.each do |pattern|\n  if pattern.matches?(path)\n    result = !pattern.negated?\n  end\nend\n\nresult\n"},"external_var":false},{"html_id":"parse(content:String,base:String=\"\"):self-instance-method","name":"parse","doc":"Parse gitignore content (multiple lines)","summary":"<p>Parse gitignore content (multiple lines)</p>","abstract":false,"args":[{"name":"content","external_name":"content","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"args_string":"(content : String, base : String = \"\") : self","args_html":"(content : String, base : String = <span class=\"s\">&quot;&quot;</span>) : <span class=\"k\">self</span>","location":{"filename":"src/ignore.cr","line_number":27,"url":null},"def":{"name":"parse","args":[{"name":"content","external_name":"content","restriction":"String"},{"name":"base","default_value":"\"\"","external_name":"base","restriction":"String"}],"return_type":"self","visibility":"Public","body":"content.each_line do |line|\n  add(line, base)\nend\nself\n"},"external_var":false},{"html_id":"patterns:Array(String)-instance-method","name":"patterns","doc":"Returns the pattern strings","summary":"<p>Returns the pattern strings</p>","abstract":false,"location":{"filename":"src/ignore.cr","line_number":55,"url":null},"def":{"name":"patterns","return_type":"Array(String)","visibility":"Public","body":"@patterns.map(&.pattern)"},"external_var":false},{"html_id":"size:Int32-instance-method","name":"size","doc":"Returns the number of patterns","summary":"<p>Returns the number of patterns</p>","abstract":false,"location":{"filename":"src/ignore.cr","line_number":65,"url":null},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@patterns.size"},"external_var":false}]},{"html_id":"ignore/Ignore/Pattern","path":"Ignore/Pattern.html","kind":"class","full_name":"Ignore::Pattern","name":"Pattern","abstract":false,"superclass":{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ignore/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ignore/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/ignore/pattern.cr","line_number":3,"url":null}],"repository_name":"ignore","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ignore/Ignore","kind":"module","full_name":"Ignore","name":"Ignore"},"doc":"Represents a single gitignore pattern","summary":"<p>Represents a single gitignore pattern</p>","constructors":[{"html_id":"new(pattern:String,base_path:String=\"\")-class-method","name":"new","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"base_path","default_value":"\"\"","external_name":"base_path","restriction":"String"}],"args_string":"(pattern : String, base_path : String = \"\")","args_html":"(pattern : String, base_path : String = <span class=\"s\">&quot;&quot;</span>)","location":{"filename":"src/ignore/pattern.cr","line_number":12,"url":null},"def":{"name":"new","args":[{"name":"pattern","external_name":"pattern","restriction":"String"},{"name":"base_path","default_value":"\"\"","external_name":"base_path","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(pattern, base_path)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"anchored?:Bool-instance-method","name":"anchored?","abstract":false,"location":{"filename":"src/ignore/pattern.cr","line_number":8,"url":null},"def":{"name":"anchored?","return_type":"Bool","visibility":"Public","body":"@anchored"},"external_var":false},{"html_id":"base_path:String-instance-method","name":"base_path","abstract":false,"location":{"filename":"src/ignore/pattern.cr","line_number":5,"url":null},"def":{"name":"base_path","return_type":"String","visibility":"Public","body":"@base_path"},"external_var":false},{"html_id":"directory_only?:Bool-instance-method","name":"directory_only?","abstract":false,"location":{"filename":"src/ignore/pattern.cr","line_number":7,"url":null},"def":{"name":"directory_only?","return_type":"Bool","visibility":"Public","body":"@directory_only"},"external_var":false},{"html_id":"matches?(path:String):Bool-instance-method","name":"matches?","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"}],"args_string":"(path : String) : Bool","args_html":"(path : String) : Bool","location":{"filename":"src/ignore/pattern.cr","line_number":56,"url":null},"def":{"name":"matches?","args":[{"name":"path","external_name":"path","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"is_dir = path.ends_with?(\"/\")\ncheck_path = is_dir ? path[0..-2] : path\n\n\nif @directory_only && (!is_dir)\n  return false\nend\n\n\nif @base_path.empty?\nelsif check_path.starts_with?(@base_path)\n  check_path = check_path[@base_path.size..]\nelsif (check_path + \"/\") == @base_path\n  check_path = \"\"\nelse\n  return false\nend\n\n@regex.matches?(check_path)\n"},"external_var":false},{"html_id":"negated?:Bool-instance-method","name":"negated?","abstract":false,"location":{"filename":"src/ignore/pattern.cr","line_number":6,"url":null},"def":{"name":"negated?","return_type":"Bool","visibility":"Public","body":"@negated"},"external_var":false},{"html_id":"pattern:String-instance-method","name":"pattern","abstract":false,"location":{"filename":"src/ignore/pattern.cr","line_number":4,"url":null},"def":{"name":"pattern","return_type":"String","visibility":"Public","body":"@pattern"},"external_var":false}]}]}]}}